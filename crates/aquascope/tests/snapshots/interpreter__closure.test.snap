---
source: crates/aquascope/tests/interpreter.rs
description: closure.test
---
steps:
  - stack:
      frames:
        - name: main
          body_span:
            start: 0
            end: 59
            filename:
              private: 0
          location:
            start: 0
            end: 9
            filename:
              private: 0
          locals: []
    heap:
      locations: []
  - stack:
      frames:
        - name: main
          body_span:
            start: 0
            end: 59
            filename:
              private: 0
          location:
            start: 14
            end: 24
            filename:
              private: 0
          locals:
            - name: x
              value:
                type: Int
                value: 0
              moved_paths: []
    heap:
      locations: []
  - stack:
      frames:
        - name: main
          body_span:
            start: 0
            end: 59
            filename:
              private: 0
          location:
            start: 27
            end: 40
            filename:
              private: 0
          locals:
            - name: x
              value:
                type: Int
                value: 0
              moved_paths: []
            - name: f
              value:
                type: Adt
                value:
                  name: "main::{closure#0}"
                  variant: ~
                  fields:
                    - - x
                      - type: Pointer
                        value:
                          path:
                            segment:
                              type: Stack
                              value:
                                frame: 0
                                local: x
                            parts: []
                          range: ~
                  alloc_kind: ~
              moved_paths: []
    heap:
      locations: []
  - stack:
      frames:
        - name: main
          body_span:
            start: 0
            end: 59
            filename:
              private: 0
          location:
            start: 43
            end: 55
            filename:
              private: 0
          locals:
            - name: x
              value:
                type: Int
                value: 0
              moved_paths: []
            - name: f
              value:
                type: Adt
                value:
                  name: "main::{closure#0}"
                  variant: ~
                  fields:
                    - - x
                      - type: Pointer
                        value:
                          path:
                            segment:
                              type: Stack
                              value:
                                frame: 0
                                local: x
                            parts: []
                          range: ~
                  alloc_kind: ~
              moved_paths: []
    heap:
      locations: []
  - stack:
      frames:
        - name: main
          body_span:
            start: 0
            end: 59
            filename:
              private: 0
          location:
            start: 43
            end: 55
            filename:
              private: 0
          locals:
            - name: x
              value:
                type: Int
                value: 0
              moved_paths: []
            - name: f
              value:
                type: Adt
                value:
                  name: "main::{closure#0}"
                  variant: ~
                  fields:
                    - - x
                      - type: Pointer
                        value:
                          path:
                            segment:
                              type: Stack
                              value:
                                frame: 0
                                local: x
                            parts: []
                          range: ~
                  alloc_kind: ~
              moved_paths: []
        - name: "main::{closure#0}"
          body_span:
            start: 35
            end: 39
            filename:
              private: 0
          location:
            start: 35
            end: 37
            filename:
              private: 0
          locals: []
    heap:
      locations: []
  - stack:
      frames:
        - name: main
          body_span:
            start: 0
            end: 59
            filename:
              private: 0
          location:
            start: 43
            end: 55
            filename:
              private: 0
          locals:
            - name: x
              value:
                type: Int
                value: 0
              moved_paths: []
            - name: f
              value:
                type: Adt
                value:
                  name: "main::{closure#0}"
                  variant: ~
                  fields:
                    - - x
                      - type: Pointer
                        value:
                          path:
                            segment:
                              type: Stack
                              value:
                                frame: 0
                                local: x
                            parts: []
                          range: ~
                  alloc_kind: ~
              moved_paths: []
        - name: "main::{closure#0}"
          body_span:
            start: 35
            end: 39
            filename:
              private: 0
          location:
            start: 38
            end: 39
            filename:
              private: 0
          locals:
            - name: (return)
              value:
                type: Int
                value: 0
              moved_paths: []
    heap:
      locations: []
  - stack:
      frames:
        - name: main
          body_span:
            start: 0
            end: 59
            filename:
              private: 0
          location:
            start: 43
            end: 55
            filename:
              private: 0
          locals:
            - name: x
              value:
                type: Int
                value: 0
              moved_paths: []
            - name: f
              value:
                type: Adt
                value:
                  name: "main::{closure#0}"
                  variant: ~
                  fields:
                    - - x
                      - type: Pointer
                        value:
                          path:
                            segment:
                              type: Stack
                              value:
                                frame: 0
                                local: x
                            parts: []
                          range: ~
                  alloc_kind: ~
              moved_paths: []
            - name: y
              value:
                type: Int
                value: 0
              moved_paths: []
    heap:
      locations: []
  - stack:
      frames:
        - name: main
          body_span:
            start: 0
            end: 59
            filename:
              private: 0
          location:
            start: 58
            end: 59
            filename:
              private: 0
          locals: []
    heap:
      locations: []
result:
  type: Success

